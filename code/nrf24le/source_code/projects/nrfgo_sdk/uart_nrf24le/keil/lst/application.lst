C51 COMPILER V9.51   APPLICATION                                                           10/01/2013 00:42:58 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE APPLICATION
OBJECT MODULE PLACED IN .\build\application.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\src\application.c REGFILE(.\build\uart_nrf24le1.ORC) BROWSE NOINTPROMOTE
                    - MODDP2 INCDIR(..\..\..\..\hal\nrf24le1;..\..\..\..\compiler\c51;..\..\..\..\compiler\common) DEBUG OBJECTEXTEND PRINT(.
                    -\lst\application.lst) TABS(2) OBJECT(.\build\application.obj)

line level    source

   1          //----------------------------------------------------------------
   2          //----------------------------------------------------------------
   3          // Module name: User Utility
   4          //
   5          // Copyright 2008 Fong Ming as an  unpublished work. 
   6          // All Rights Reserved.
   7          //
   8          // The information contained herein is confidential 
   9          // property of Company. The user, copying, transfer or 
  10          // disclosure of such information is prohibited except
  11          // by express written agreement with Company.
  12          //
  13          // First written on 2013-09-30 by Fong Ming
  14          //
  15          //----------------------------------------------------------------
  16          //----------------------------------------------------------------
  17          
  18          
  19          #include <stdio.h>
  20          #include "nrf24le1.h"
  21          #include "hal_uart.h"
  22          #include "hal_clk.h"
  23          #include "application.h"
  24          #include "utility.h"
  25          
  26          void app_init(void)
  27          {
  28   1        app_init_hardware();
  29   1        app_init_variable();
  30   1      
  31   1      }
  32          
  33          void app_init_hardware(void)
  34          {
  35   1        // Configure TXD pin as output.
  36   1        // P0.5, P0.3 and P1.0 are configured as outputs to make the example run on
  37   1        // either 24-pin, 32-pin or 48-pin nRF24LE1 variants.
  38   1        P0DIR = 0xD7;
  39   1        P1DIR = 0xFE;
  40   1        
  41   1        // Initializes the UART
  42   1        hal_uart_init(UART_BAUD_9K6);
  43   1        // Wait for XOSC to start to ensure proper UART baudrate
  44   1        while(hal_clk_get_16m_source() != HAL_CLK_XOSC16M)
  45   1        {}
  46   1      }
  47          
  48          void app_init_variable(void)
  49          {
  50   1      
  51   1      }
  52          
  53          
C51 COMPILER V9.51   APPLICATION                                                           10/01/2013 00:42:58 PAGE 2   

  54          void app_main_loop(void)
  55          {
  56   1      
  57   1        for(;;)
  58   1          {
  59   2            // If any characters received
  60   2            if( hal_uart_chars_available() )
  61   2            {
  62   3              P3 = 0x11;
  63   3              // Echo received characters
  64   3              u_putch(getchar());
  65   3            }
  66   2          }
  67   1      
  68   1      }
  69          
  70          
  71          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     42    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
